webpackJsonp([6],{Yw1l:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])},hOT5:function(t,e,n){var l=n("Yw1l");"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);n("rjj0")("41c90162",l,!0,{})},wC4Z:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=n("woOf"),o=n.n(l),i=n("0oES");var a={name:"manage",inject:["reload"],data:function(){return{list1:[{key:"host"},{key:"type"},{key:"machine_local"},{key:"env"},{key:"status"},{key:"role"},{key:"riqi"}],total:1e3,pagesize:9,currentPage:1,xianshi1:!1,list2:[],addform:!1,id:"",addforms:{},editforms:{},editform:!1,type1:[{title:"Mysql"},{title:"Mongodb"},{title:"Redis"}],type2:[{title:"亦庄"},{title:"M7"}],type3:[{title:"Online"},{title:"Test"},{title:"Beta"}],type4:[{title:"使用中"},{title:"待用"}],type5:[{title:"Master"},{title:"Slave"},{title:"Single"}],partial:!0}},created:function(){var t=this;Object(i.a)({url:"http://10.254.124.60:9000/db_manage/",method:"get"}).then(function(e){t.list2=e.data})},methods:{machine_add:function(){var t,e,n,l,o,a,s=this;console.log("test"),(t=this.addforms.host,e=this.addforms.type,n=this.addforms.machine_local,l=this.addforms.env,o=this.addforms.status,Object(i.a)({url:"http://10.254.124.60:9000/db_manage/",method:"post",data:{host:t,type:e,machine_local:n,env:l,status:o,role:a}})).then(function(t){console.log(s.addforms.beizhu),s.reload()}).catch(function(t){console.log("增加失败"),alert(t)})},Row_Edit:function(t){this.editform=!0,this.id=t.id;var e=t;this.editforms=o()({},e)},Row_Delete:function(t){var e,n=this;(e=t.id,Object(i.a)({url:"http://10.254.124.60:9000/db_manage/"+e+"/",method:"delete",data:{id:e}})).then(function(t){console.log("增加成功"),n.reload()}).catch(function(t){console.log("增加失败"),alert(t)})},machine_edit:function(t){var e,n,l,o,a,s,r=this;console.log(this.editforms),(e=this.id,n=this.editforms.type,l=this.editforms.machine_local,o=this.editforms.env,a=this.editforms.status,s=this.editforms.role,Object(i.a)({url:"http://10.254.124.60:9000/db_manage/"+e+"/",method:"put",data:{id:e,type:n,machine_local:l,env:o,status:a,role:s}})).then(function(t){console.log(r.editforms),r.reload()}).catch(function(t){console.log("增加失败"),alert(t)})},current_change:function(t){this.currentPage=t},closeDialog:function(){}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:(t.list2||[]).slice((t.currentPage-1)*t.pagesize,t.currentPage*t.pagesize)}},[t._l(t.list1,function(e,l){return n("el-table-column",{key:l,attrs:{label:e.key,width:e.width},scopedSlots:t._u([{key:"default",fn:function(l){return[n("span",[t._v(t._s(l.row[e.key]))])]}}],null,!0)})}),t._v(" "),n("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return t.Row_Delete(e.row)}}},[t._v("删除")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return t.Row_Edit(e.row)}}},[t._v("编辑")])]}}])})],2),t._v(" "),n("el-pagination",{staticClass:"fy",attrs:{layout:"prev, pager, next",total:t.total,background:""},on:{"current-change":t.current_change}}),t._v(" "),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){t.addform=!0}}},[t._v("新增机器")]),t._v(" "),n("el-dialog",{staticClass:"dialog-wrap",attrs:{title:"新增机器信息",visible:t.addform,"append-to-body":!1},on:{"update:visible":function(e){t.addform=e},close:t.closeDialog}},[n("el-form",{ref:"addforms",attrs:{id:"addforms",model:t.addforms}},[n("el-form-item",{attrs:{label:"主机IP",prop:"hostname"}},[n("el-input",{model:{value:t.addforms.host,callback:function(e){t.$set(t.addforms,"host",e)},expression:"addforms.host"}})],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"数据库类型",prop:"string"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:t.addforms.type,callback:function(e){t.$set(t.addforms,"type",e)},expression:"addforms.type"}},t._l(t.type1,function(t,e){return n("el-option",{key:e,attrs:{label:t.title,value:t.title}})}),1),t._v(" "),n("p",[t._v(t._s(this.addforms.type))])],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"所在机房",prop:"string"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:t.addforms.machine_local,callback:function(e){t.$set(t.addforms,"machine_local",e)},expression:"addforms.machine_local"}},t._l(t.type2,function(t,e){return n("el-option",{key:e,attrs:{label:t.title,value:t.title}})}),1)],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"使用环境",prop:"string"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:t.addforms.env,callback:function(e){t.$set(t.addforms,"env",e)},expression:"addforms.env"}},t._l(t.type3,function(t,e){return n("el-option",{key:e,attrs:{label:t.title,value:t.title}})}),1)],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"使用状态",prop:"string"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:t.addforms.status,callback:function(e){t.$set(t.addforms,"status",e)},expression:"addforms.status"}},t._l(t.type4,function(t,e){return n("el-option",{key:e,attrs:{label:t.title,value:t.title}})}),1)],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"角色信息",prop:"string"}},[t._v("\n      <"),n("el-select",{staticStyle:{width:"100%"},model:{value:t.addforms.role,callback:function(e){t.$set(t.addforms,"role",e)},expression:"addforms.role"}},t._l(t.type5,function(t,e){return n("el-option",{key:e,attrs:{label:t.title,value:t.title}})}),1)],1),t._v(" "),n("el-button",{on:{click:function(e){t.machine_add(),t.addform=!1}}},[t._v("确定")]),t._v(" "),n("el-button",{on:{click:function(e){t.addform=!1}}},[t._v("取消")])],1)],1),n("el-dialog",{staticClass:"dialog-wrap",attrs:{title:"编辑机器信息",visible:t.editform,"append-to-body":!1},on:{"update:visible":function(e){t.editform=e}}},[n("el-form",{ref:"editforms",attrs:{id:"editforms",model:t.editforms}},[n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"主机",prop:"string"}},[n("el-input",{attrs:{readonly:""},model:{value:t.editforms.host,callback:function(e){t.$set(t.editforms,"host",e)},expression:"editforms.host"}})],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"数据库类型",prop:"string"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:t.editforms.type,callback:function(e){t.$set(t.editforms,"type",e)},expression:"editforms.type"}},t._l(t.type1,function(t,e){return n("el-option",{key:e,attrs:{label:t.title,value:t.title}})}),1)],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"所在机房",prop:"string"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:t.editforms.machine_local,callback:function(e){t.$set(t.editforms,"machine_local",e)},expression:"editforms.machine_local"}},t._l(t.type2,function(t,e){return n("el-option",{key:e,attrs:{label:t.title,value:t.title}})}),1)],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"使用环境",prop:"string"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:t.editforms.env,callback:function(e){t.$set(t.editforms,"env",e)},expression:"editforms.env"}},t._l(t.type3,function(t,e){return n("el-option",{key:e,attrs:{label:t.title,value:t.title}})}),1)],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"使用状态",prop:"string"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:t.editforms.status,callback:function(e){t.$set(t.editforms,"status",e)},expression:"editforms.status"}},t._l(t.type4,function(t,e){return n("el-option",{key:e,attrs:{label:t.title,value:t.title}})}),1)],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-bottom":"10px",width:"50%"},attrs:{label:"角色",prop:"string"}},[n("el-select",{staticStyle:{width:"100%"},model:{value:t.editforms.role,callback:function(e){t.$set(t.editforms,"role",e)},expression:"editforms.role"}},t._l(t.type5,function(t,e){return n("el-option",{key:e,attrs:{label:t.title,value:t.title}})}),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"备注",prop:"string"}},[n("el-input",{model:{value:t.editforms.beizhu,callback:function(e){t.$set(t.editforms,"beizhu",e)},expression:"editforms.beizhu"}})],1),t._v(" "),n("el-button",{on:{click:function(e){t.machine_edit(),t.editform=!1}}},[t._v("确定")]),t._v(" "),n("el-button",{on:{click:function(e){t.editform=!1}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var r=n("VU/8")(a,s,!1,function(t){n("hOT5")},"data-v-e71c0d72",null);e.default=r.exports}});