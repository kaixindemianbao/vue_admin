webpackJsonp([23],{gEuk:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),n=a.n(r),o=a("QB0O"),l={name:"depemnt_user",inject:["reload"],data:function(){return{user:[],reload:this.reload,addForms:!1,addsForm:{department:"",dev_manager:"",dba_manager:""},userlist:"",editForm:{department:"",dev_manager:"",dba_manager:""},editForms:!1}},created:function(){var e=this;Object(o.p)().then(function(t){e.user=t.data})},methods:{Row_ADD:function(){var e=this;Object(o.a)(this.addsForm.department,this.addsForm.dev_manager,this.addsForm.dba_manager).then(function(t){console.log(e.addsForm),e.reload()})},user_list:function(){var e=this;Object(o.d)().then(function(t){e.userlist=t.data,console.log(e.userlist)})},Row_Edit:function(e){this.editForms=!0,this.id=e.id;var t=e;this.editForm=n()({},t)},row_edit:function(){var e=this;Object(o.j)(this.id,this.editForm.department,this.editForm.dev_manager,this.editForm.dba_manager).then(function(t){e.reload(),console.log(t.data)})},row_delete:function(e){var t=this;Object(o.h)(e.id).then(function(e){t.reload(),console.log(e.data)})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.user,border:""}},[a("el-table-column",{attrs:{prop:"department",label:"部门"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dev_manager",label:"审核人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dba_manager",label:"备用审核人"}}),e._v(" "),a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.Row_Edit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.row_delete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{staticClass:"dialog-wrap",attrs:{title:"编辑用户组信息",visible:e.editForms,"append-to-body":!1},on:{"update:visible":function(t){e.editForms=t}}},[a("el-form",{ref:"editForm",attrs:{id:"#editForm",model:e.editForm}},[a("el-form-item",{attrs:{label:"部门名",prop:"depement"}},[a("el-input",{attrs:{readonly:""},model:{value:e.editForm.department,callback:function(t){e.$set(e.editForm,"department",t)},expression:"editForm.department"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审核人",prop:"dev_manager"}},[a("el-select",{staticStyle:{width:"100%"},nativeOn:{click:function(t){return e.user_list(t)}},model:{value:e.editForm.dev_manager,callback:function(t){e.$set(e.editForm,"dev_manager",t)},expression:"editForm.dev_manager"}},e._l(e.userlist,function(e,t){return a("el-option",{key:t,attrs:{label:e.index,value:e.real_name}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备用审核人",prop:"dba_manager"}},[a("el-select",{staticStyle:{width:"100%"},nativeOn:{click:function(t){return e.user_list(t)}},model:{value:e.editForm.dba_manager,callback:function(t){e.$set(e.editForm,"dba_manager",t)},expression:"editForm.dba_manager"}},e._l(e.userlist,function(e,t){return a("el-option",{key:t,attrs:{label:e.index,value:e.real_name}})}),1)],1),e._v(" "),a("el-button",{on:{click:function(t){e.row_edit(),e.editForms=!1}}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.editForms=!1}}},[e._v("取消")])],1)],1),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(t){e.addForms=!0}}},[e._v("新增用户组")]),e._v(" "),a("el-dialog",{staticClass:"dialog-wrap",attrs:{title:"新增用户组信息",visible:e.addForms,"append-to-body":!1},on:{"update:visible":function(t){e.addForms=t}}},[a("el-form",{ref:"addsForm",attrs:{id:"#addsForm",model:e.addsForm}},[a("el-form-item",{attrs:{label:"部门名",prop:"depement"}},[a("el-input",{model:{value:e.addsForm.department,callback:function(t){e.$set(e.addsForm,"department",t)},expression:"addsForm.department"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"审核人",prop:"dev_manager"}},[a("el-select",{staticStyle:{width:"100%"},nativeOn:{click:function(t){return e.user_list(t)}},model:{value:e.addsForm.dev_manager,callback:function(t){e.$set(e.addsForm,"dev_manager",t)},expression:"addsForm.dev_manager"}},e._l(e.userlist,function(e,t){return a("el-option",{key:t,attrs:{label:e.index,value:e.real_name}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备用审核人",prop:"dba_manager"}},[a("el-select",{staticStyle:{width:"100%"},nativeOn:{click:function(t){return e.user_list(t)}},model:{value:e.addsForm.dba_manager,callback:function(t){e.$set(e.addsForm,"dba_manager",t)},expression:"addsForm.dba_manager"}},e._l(e.userlist,function(e,t){return a("el-option",{key:t,attrs:{label:e.index,value:e.real_name}})}),1)],1),e._v(" "),a("el-button",{on:{click:function(t){e.Row_ADD(),e.addForms=!1}}},[e._v("确定")]),e._v(" "),a("el-button",{on:{click:function(t){e.addForms=!1}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]},i=a("VU/8")(l,d,!1,null,null,null);t.default=i.exports}});